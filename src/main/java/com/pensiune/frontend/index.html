<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Pensiunea Casa MYS</title>
    <link rel="stylesheet" href="css/style.css">

    <style>
        body { font-family: Arial, sans-serif; }
        .gallery img { width: 300px; margin: 10px; }
    </style>
</head>
<body>
<h1>Bun venit la Pensiunea Casa MYS!</h1>
<p>O locație perfectă pentru relaxare și aventură în natură.</p>

<h2>Rezervări online</h2>
<form id="bookingForm">
    <label for="checkIn">Check-in:</label>
    <input type="date" id="checkIn" required><br><br>

    <label for="checkOut">Check-out:</label>
    <input type="date" id="checkOut" required><br><br>

    <label for="roomType">Tip cameră:</label>
    <select id="roomType" required>
        <option value="double">Double</option>
        <option value="triple">Triple</option>
        <option value="suite">Suite</option>
    </select><br><br>

    <button type="submit">Verifică disponibilitatea</button>
</form>

<div id="bookingResult" style="margin-top: 20px;"></div>

<h2>Recenzii</h2>
<form id="reviewForm">
    <label for="reviewName">Nume:</label>
    <input type="text" id="reviewName" required><br><br>
    <label for="reviewText">Recenzie:</label><br>
    <textarea id="reviewText" rows="4" cols="50" required></textarea><br><br>
    <button type="submit">Adaugă recenzie</button>
</form>

<ul id="reviewList"></ul>

<script>
    // JavaScript pentru rezervări și recenzii
    document.getElementById('bookingForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const checkIn = document.getElementById('checkIn').value;
        const checkOut = document.getElementById('checkOut').value;
        const roomType = document.getElementById('roomType').value;

        const bookingData = { checkIn, checkOut, roomType };

        fetch('/api/bookings', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(bookingData)
        }).then(response => response.json())
            .then(data => {
                const resultDiv = document.getElementById('bookingResult');
                resultDiv.innerHTML = `<p style="color: green;">Rezervare creată cu succes!</p>`;
            });
    });

    document.getElementById('reviewForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const reviewName = document.getElementById('reviewName').value;
        const reviewText = document.getElementById('reviewText').value;

        const reviewData = { name: reviewName, text: reviewText };

        fetch('/api/reviews', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(reviewData)
        }).then(response => response.json())
            .then(data => {
                const reviewList = document.getElementById('reviewList');
                const listItem = document.createElement('li');
                listItem.textContent = `${data.name}: ${data.text}`;
                reviewList.appendChild(listItem);

                document.getElementById('reviewForm').reset();
            });
    });
</script>
</body>
</html>